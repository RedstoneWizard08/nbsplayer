(function(t){function e(e){for(var i,s,a=e[0],c=e[1],u=e[2],f=0,d=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0442":function(t,e,n){t.exports=n.p+"media/pling.5e0a5ea2.ogg"},"046b":function(t,e,n){"use strict";n("f48a")},"04b4":function(t,e,n){},"0589":function(t,e,n){},1539:function(t,e,n){"use strict";n("1c29")},"157e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAAAAABWESUoAAAAyUlEQVQ4y43Tq3KGQAwF4K+duqzAIXjoPiUCt4L1vyBbqCIxzMCcS84JX7+u6QbCcGqIfP/tZX46hjASEwKHUxNGgYHhdGoGqc+an6PEEDZ0iy4s6GAUtxgiM7h2YbEkQ5QYIrWna/bc5sRW8oBU3W3pvmWivZzkoTk1u8hdZjfvDBt/OU4v91TanLgb/5/pneGw2tP5kQmM1K8xrNnA8xLC1Wm3FJOcqPlvcGS2lRwurZE8soU1O63cw63r8WQrJ/lEjUcevXrVH/utSPdo3chkAAAAAElFTkSuQmCC"},1857:function(t,e,n){"use strict";n("0589")},"19d5":function(t,e,n){},"1b56":function(t,e,n){"use strict";n("1f93")},"1c29":function(t,e,n){},"1c94":function(t,e,n){t.exports=n.p+"media/bell.bda178e0.ogg"},"1f93":function(t,e,n){},"226a":function(t,e,n){t.exports=n.p+"img/settings.4ba07f42.svg"},2397:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAA6UlEQVRIx7WVPQ6CQBCFvzGWJrQWUtDTGhMv4hk9CqHF2sITkGC9Ni7Mzi6JicOrYGez782/HDuQiQUj66jS33CAHX9iLxNw/+FmC+EB8lqO5OahYM0QasXWAu+UPWIbBeEC0infR8PeAoObApN3y84Aoi+cgf77PXrHIGFn8XPV7hMD5Zt9PUFTtjsq6NWpynNk51l+YINK1Hm27NbmrsDmOdQgkb0pxMlXQSHPsQOzCowdenJRUBlfDUrs83S6esVg9rVOJ88au65KvyxY9qw7S7PRVUE2dU3NZ7PRS4Fk21nDbuottvMH0A9KYThzPBQAAAAASUVORK5CYII="},"284a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAG1BMVEWKcyC/qzGUgB7LtjCrkiWlSSykUSuSQSOHNRz5UfPmAAAAl0lEQVQoz22RgQ1EIQhDu4IrdAVWYAVXcAVWuLGv4M9P7kCjwIuaUoHFBaN2z2VoIFMm8ETwDkAFlaAK9wHsE+eciPhUPB3oMR2l36iLHZQgGF70D1xyU1pFiZtBIrebDcB+5wR40+dqB7jmuFNFWtRAqOsdW+tpvwGQ0FDbZSMHUD5n22QZ3UAZmB+xClsHVabkFK7ZwBcAu11fTJ/qrAAAAABJRU5ErkJggg=="},"2d9c":function(t,e,n){},"2ed3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEXEbxSgVgurYRLjih3jpkt+PQ4K55LmAAAAcUlEQVQoz6XR0Q2AMAgE0FvhVmAFVmAF9l9FoH5oIWpi4iG8pn4IADAjUYTVb6CqWcCVCcwoZkqLBjYA1aSGOAENE9THNBPlHXQE/Q74CX75Dw0qvl27gz8DcsCJtZQOntvyFXbwesgcsp8g3qzimQYHAl1JL1g18PUAAAAASUVORK5CYII="},"2f7d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEX72nTMhlSFUClvRSL/////8NqIaDlzTiZIrTq4AAAAp0lEQVQoz22QQQEEMQgDsRALWIgFLGABC9jf5J5HPy2dQghEIEkEwKxGThzQAe4mOGjHFzjMFJul3nPBKNfCW7HkPAAX1W31xk7HA6TCkLbqpusB1sbVT7IjygtChmRu7XHSn/+gdTOVXi0LUQ8ApMb28LDzC2AhpE935gUaOdWyh+qdsxfseMuaSpKywAsmtB/VIOXKi7oA/duxxX0/wDpbcismZwd8ar5sgzQCBhwAAAAASUVORK5CYII="},"31df":function(t,e,n){"use strict";n("19d5")},3500:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEW4lF+vj1XCnWKWdEGfhE1+YjdnUCz7bB8LAAAAmElEQVQoz22RUQ3AMAhEzwIWagELZwEL9S9hd3RfpSyB5mXjQQcEluPPiQkQkYyuADlBHxFUmOQEWZVZe1dt5z0BFu1zUltLbqBGwWB2y+5/A9n0apyR5Z7AQmtdfZgArVt/gA9wbN5ND3OCdWyay1WfDCBdr69SLhMsWgz2Ffg4wLl890Nv+QC9f09oOyfw/duc/Rs8xwU+y/VXqQ4gnnwAAAAASUVORK5CYII="},"3d00":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEXJxafOyq3c2cDj4Mro5dLDv6H+XbVfAAAAhUlEQVQoz3XR4QGFIAgE4FvhVmAFVnAF9l/lcVg9U/JX9xWaANDcRy13Q+AAZTeSVg84wRSzMoJ6ZycoZ0JSSQeMWkUdDAsoltBGB/r2qooWqHwR+AF3/IDnWK0e/jUx/2ODvJwEc8952x2yw3NPPB17gc0hqM1L11fAe1A8IbAOW73Y4AdRzluD+fSjHgAAAABJRU5ErkJggg=="},"45c3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAG1BMVEX1zCf5vSPTljL//ZD+/73/7E//2D7+4EjMjie9BMWyAAAAjUlEQVQoz3WQwRHAIAgEaYEWbIEWbIEWaOFasOxwMskHoolmd8LJKJJD9S7clnRhe7ubmXuE2SR2BEgsxI8gIzIX8EGow4sDiFm8fINPF8LE/Ln4R1wGy1QGoR+ztVizKE6DUUQdyeFgaBNSPUkIt1m895etMbQJ5YeyMuswiZzFvEQ/Xax18jl34dvEA1KihI1YsoPEAAAAAElFTkSuQmCC"},"4cf1":function(t,e,n){"use strict";n("04b4")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("vue-title",{attrs:{title:t.tabTitle}}),e("overlay",{ref:"welcomeOverlay",attrs:{dismissable:""},model:{value:t.state.showWelcome,callback:function(e){t.$set(t.state,"showWelcome",e)},expression:"state.showWelcome"}},[e("welcome-overlay")],1),e("overlay",{attrs:{visible:t.state.loading}},[e("loading-overlay")],1),e("overlay",{attrs:{dismissable:""},model:{value:t.state.showSongDetails,callback:function(e){t.$set(t.state,"showSongDetails",e)},expression:"state.showSongDetails"}},[e("song-details-overlay",{attrs:{song:t.state.song}})],1),e("overlay",{attrs:{dismissable:""},model:{value:t.state.showSettings,callback:function(e){t.$set(t.state,"showSettings",e)},expression:"state.showSettings"}},[e("settings-overlay",{attrs:{options:t.state.options}})],1),e("div",{attrs:{id:"main"}},[e("toolbar",{attrs:{id:"toolbar"}}),e("div",{attrs:{id:"middle"}},[e("layer-list",{attrs:{song:t.state.song,id:"layer-list"}}),e("editor",{ref:"canvas",attrs:{song:t.state.song,editor:t.state.editor,id:"editor"}})],1),e("keyboard",{attrs:{id:"keyboard",editor:t.state.editor}})],1)],1)},r=[],s=(n("ac4d"),n("8a81"),n("1c4c"),n("6b54"),n("ac6a"),n("5df3"),n("d225")),a=n("b0b4"),c=new AudioContext,u=c.createGain();u.connect(c.destination);var l=function(){function t(){Object(s["a"])(this,t)}return Object(a["a"])(t,null,[{key:"setVolume",value:function(t){u.gain.value=t}},{key:"playNote",value:function(t,e,n){var i=Math.pow(2,t/12),o=c.createBufferSource();if(o.playbackRate.value=i,o.buffer=e.audioBuffer,o.start(0),100!==n){var r=c.createGain();r.gain.value=n,o.connect(r),o=r}o.connect(u)}},{key:"decodeAudioData",value:function(t){return c.decodeAudioData(t)}}]),t}();function f(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function d(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var A=function(){function t(){Object(s["a"])(this,t),this.name="",this.author="",this.originalAuthor="",this.description="",this.layers=[],this.tempo=5,this.size=0,this.currentTick=0,this.paused=!0,this.timeSignature=4,this.minutesSpent=0,this.leftClicks=0,this.rightClicks=0,this.blocksAdded=0,this.blocksRemoved=0,this.midiName="",this.instruments=p.builtin}return Object(a["a"])(t,[{key:"addLayer",value:function(){var t=new v(this,this.layers.length+1);return this.layers.push(t),t}},{key:"deleteLayer",value:function(t){var e=this.layers.indexOf(t);this.layers.splice(e,1)}},{key:"play",value:function(){this.currentTick>=this.size&&(this.currentTick=0),this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"timePerTick",get:function(){return 20/this.tempo*50}},{key:"currentTime",get:function(){return this.currentTick*this.timePerTick}},{key:"endTime",get:function(){return this.size*this.timePerTick}},{key:"tick",get:function(){return Math.floor(this.currentTick)}}]),t}(),v=function(){function t(e,n){Object(s["a"])(this,t),this.song=e,this.name="",this.volume=1,this.notes=[],this.id=n}return Object(a["a"])(t,[{key:"delete",value:function(){this.song.deleteLayer(this)}},{key:"setNote",value:function(t,e,n){t+1>this.song.size&&(this.song.size=t+1);var i=new g(this,t);return i.key=e,i.instrument=n,this.notes[t]=i,i}},{key:"deleteNote",value:function(t){delete this.notes[t]}},{key:"placeholder",get:function(){return"Layer "+this.id}}]),t}(),g=Object(a["a"])((function t(e,n){Object(s["a"])(this,t),this.layer=e,this.tick=n,this.key=45,this.instrument=null,this.lastPlayed=null})),p=function(){function t(e,n,i,o,r){Object(s["a"])(this,t),this.name=e,this.id=n,this.audioSrc=i,this.textureSrc=o,this.pressKey=r,this.audioBuffer=null}return Object(a["a"])(t,[{key:"load",value:function(){return Promise.all([this.loadAudio(),this.loadTexture()])}},{key:"loadAudio",value:function(){var t=this;return fetch(this.audioSrc).then((function(t){return t.arrayBuffer()})).then((function(t){return l.decodeAudioData(t)})).then((function(e){return t.audioBuffer=e}))}},{key:"loadTexture",value:function(){var t=this;return new Promise((function(e,n){var i=new Image;i.src=t.textureSrc,t.baseTexture=i,i.onload=function(){return e(i)},i.onerror=function(t){return n(t)}}))}}]),t}();p.builtin=[new p("Harp",0,n("9661"),n("cdab"),!0),new p("Double Bass",1,n("9566"),n("3500"),!1),new p("Bass Drum",2,n("6b8b"),n("157e"),!1),new p("Snare Drum",3,n("6060"),n("cc70"),!1),new p("Click",4,n("a8d2"),n("2397"),!1),new p("Guitar",5,n("645e"),n("9398"),!1),new p("Flute",6,n("c83b"),n("a35c"),!1),new p("Bell",7,n("1c94"),n("45c3"),!1),new p("Chime",8,n("c509"),n("dc2c"),!1),new p("Xylophone",9,n("8786"),n("3d00"),!1),new p("Iron Xylophone",10,n("96d7"),n("6361")),new p("Cow Bell",11,n("6823"),n("c303")),new p("Didgeridoo",12,n("e92b"),n("2ed3")),new p("Bit",13,n("c34a"),n("6f5e")),new p("Banjo",14,n("b6b8"),n("284a")),new p("Pling",15,n("0442"),n("2f7d"))],A.fromArrayBuffer=function(t){var e=new A,n=new DataView(t),i=0;function o(){var t=n.getInt8(i,!0);return i+=1,t}function r(){var t=n.getUint8(i,!0);return i+=1,t}function s(){var t=n.getInt16(i,!0);return i+=2,t}function a(){var t=n.getInt32(i,!0);return i+=4,t}function c(){for(var t=a(),e="",n=0;n<t;n++){var i=r();e+=String.fromCharCode(i)}return e}e.size=s();var u=s();e.name=c(),e.author=c(),e.originalAuthor=c(),e.description=c(),e.tempo=s()/100,o(),o(),e.timeSignature=o(),e.minutesSpent=a(),e.leftClicks=a(),e.rightClicks=a(),e.blocksAdded=a(),e.blocksRemoved=a(),e.midiName=c();var l=-1,f=[];while(1){var d=s();if(0===d)break;l+=d;var h=-1;while(1){var v=s();if(0===v)break;h+=v;var g=o(),p=o();f.push({instrument:g,key:p,layer:h,tick:l})}}if(t.byteLength>i)for(var m=0;m<u;m++){var y=e.addLayer();y.name=c(),y.volume=o()/100}for(var b=0,w=f;b<w.length;b++){var k=w[b];if(k.layer>=e.layers.length)while(k.layer>=e.layers.length)e.addLayer();var C=e.layers[k.layer],x=k.key,O=k.tick,S=e.instruments[k.instrument];C.setNote(O,x,S)}return e},A.toArrayBuffer=function(t){function e(e){var n=e.writeString,i=e.writeByte,o=e.writeShort,r=e.writeInt;o(t.size),o(t.layers.length),n(t.name),n(t.author),n(t.originalAuthor),n(t.description),o(100*t.tempo),i(0),i(0),i(t.timeSignature),r(t.minutesSpent),r(t.leftClicks),r(t.rightClicks),r(t.blocksAdded),r(t.blocksRemoved),n(t.midiName);for(var s=-1,a=0;a<t.size;a++){var c,u=!1,l=f(t.layers);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(d.notes[a]){u=!0;break}}}catch(k){l.e(k)}finally{l.f()}if(u){var h=a-s;s=a,o(h);for(var A=-1,v=0;v<t.layers.length;v++){var g=t.layers[v],p=g.notes[a];if(p){var m=v-A;A=v,o(m),i(p.instrument.id),i(p.key)}}o(0)}}o(0);var y,b=f(t.layers);try{for(b.s();!(y=b.n()).done;){var w=y.value;n(w.name),i(Math.floor(100*w.volume))}}catch(k){b.e(k)}finally{b.f()}i(0)}var n=0;e({writeString:function(t){n+=t.length+4},writeByte:function(){n+=1},writeShort:function(){n+=2},writeInt:function(){n+=4}});var i=new ArrayBuffer(n),o=new DataView(i),r=0;function s(t){o.setInt8(r,t,!0),r+=1}function a(t){o.setUint8(r,t,!0),r+=1}function c(t){o.setInt16(r,t,!0),r+=2}function u(t){o.setInt32(r,t,!0),r+=4}function l(t){u(t.length);var e,n=f(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;a(i.charCodeAt(0))}}catch(o){n.e(o)}finally{n.f()}}return e({writeByte:s,writeShort:c,writeInt:u,writeString:l}),i},A.new=function(){var t=new A;return t.addLayer(),t};var m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor"},[e("canvas",{ref:"canvas",on:{mousedown:function(e){return e.preventDefault(),t.handleMouse.apply(null,arguments)},mouseup:function(e){return e.preventDefault(),t.handleMouse.apply(null,arguments)},mousemove:t.handleMouse,contextmenu:function(t){t.preventDefault()}}})])},y=[],b=(n("6c7b"),function(){function t(){Object(s["a"])(this,t),this.firstTick=0}return Object(a["a"])(t,[{key:"lastTick",get:function(){return this.firstTick+this.width},set:function(t){this.firstTick=t-this.width}}]),t}()),w=function(){function t(e){Object(s["a"])(this,t),this.song=e,this.currentKey=45,this.currentInstrument=e.instruments[0],this.viewport=new b,this.modified=!1}return Object(a["a"])(t,[{key:"getLayer",value:function(t){if(t instanceof v)return t;if("number"===typeof t&&this.song.layers[t])return this.song.layers[t];throw new Error("Unknown layer: "+t)}},{key:"placeNote",value:function(t,e){return this.modified=!0,this.setNote(t,e,this.currentKey,this.currentInstrument)}},{key:"getNote",value:function(t,e){return this.getLayer(t).notes[e]}},{key:"setNote",value:function(t,e,n,i){return this.getLayer(t).setNote(e,n,i)}},{key:"deleteNote",value:function(t,e){this.modified=!0,this.getLayer(t).deleteNote(e)}},{key:"pickNote",value:function(t){this.currentInstrument=t.instrument,this.currentKey=t.key}},{key:"seekTick",value:function(t){this.song.currentTick=t}},{key:"updateViewport",value:function(){this.song.currentTick>=this.viewport.lastTick&&(this.viewport.firstTick=this.song.tick),this.song.currentTick<this.viewport.firstTick&&(this.viewport.firstTick=this.song.tick)}}],[{key:"formatKey",value:function(t){var e=["C-","C#","D-","D#","E-","F-","F#","G-","G#","A-","A#","B-"],n=e[(t-3)%12],i=Math.floor((t-3)/12)+1;return"".concat(n).concat(i)}}]),t}(),k=32,C=(n("23972"),n("2a88")),x=n("4e2b"),O=n("308d"),S=n("6bb5"),E=new i["a"]({data:function(){var t={loading:!0,song:A.new(),editor:null,showWelcome:!1,showSongDetails:!1,showSettings:!1,options:{keyOffset:45,loop:!1,volume:1}};return t.editor=new w(t.song),t},watch:{"options.volume":function(t){l.setVolume(t)},"options.loop":function(t){t&&this.song.tick===this.song.size&&this.song.play()}},methods:{setSong:function(t){this.song=t,this.editor=new w(t)},playNote:function(t,e,n){if(e instanceof p)var i="number"===typeof t?t:t.key,o=e,r=n?n.volume:100;else i=t.key,o=t.instrument,r=e?e.volume:100;l.playNote(i-this.options.keyOffset,o,r)},loadFile:function(t){var e=this;this.loading=!0;var n=new FileReader;return n.readAsArrayBuffer(t),new Promise((function(t,i){n.onload=function(n){try{var o=A.fromArrayBuffer(n.target.result)}catch(n){return void i(n)}e.loading=!1,e.setSong(o),(o.name||o.author||o.originalAuthor||o.description)&&(e.showSongDetails=!0),t(o)},n.onerror=function(t){return i(t)}}))}}});function B(t){var e=j();return function(){var n,i=Object(S["a"])(t);if(e){var o=Object(S["a"])(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(O["a"])(this,n)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var U=function(){function t(){Object(s["a"])(this,t),this.x=0,this.y=0,this.height=0,this.width=0}return Object(a["a"])(t,[{key:"update",value:function(t){}},{key:"intersectsPoint",value:function(t,e){if(e)n=t,i=e;else var n=t.x,i=t.y;var o=this.x,r=this.y,s=this.width,a=this.height;return n>=o&&n<=o+s&&i>=r&&i<=r+a}},{key:"render",value:function(t){throw new Error("EditorObject did not implement `render(ctx) { ... }`")}},{key:"interact",value:function(t){return!1}},{key:"dragged",value:function(t,e,n){}},{key:"interactEnd",value:function(t,e){}},{key:"centerX",get:function(){return this.x+this.width/2}}]),t}(),I=function(t){Object(x["a"])(n,t);var e=B(n);function n(){var t;return Object(s["a"])(this,n),t=e.call(this),t.color="black",t.height=16,t.mouseHover=!1,t.active=!1,t.visible=!0,t}return Object(a["a"])(n,[{key:"update",value:function(t){this.width=Math.max(t.editor.viewport.width/t.song.size*t.canvas.width,12),this.x=t.editor.viewport.firstTick/t.song.size*t.ctx.canvas.width,this.y=t.canvas.height-this.height,this.visible=t.song.size>t.editor.viewport.width,this.active?this.color="#555":this.intersectsPoint(t.mouse)?this.color="#666":this.color="#777"}},{key:"render",value:function(t){this.visible&&(t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height))}},{key:"interact",value:function(t,e){return 0===e&&(this.active=!0,!0)}},{key:"interactEnd",value:function(t){this.active=!1}},{key:"dragged",value:function(t,e,n){var i=e/t.canvas.width*t.song.size,o=t.song.currentTick+i;t.song.currentTick=o,t.editor.viewport.firstTick=Math.floor(o)-1,t.song.pause()}}]),n}(U),V=function(t){Object(x["a"])(n,t);var e=B(n);function n(){var t;return Object(s["a"])(this,n),t=e.call(this),t.value=0,t.visualWidth=2,t.width=4,t.draggable=!1,t.dragging=!1,t.color="black",t}return Object(a["a"])(n,[{key:"update",value:function(t){this.x=(this.value-t.editor.viewport.firstTick)*k-this.width/2,this.height=t.ctx.canvas.height,this.draggable&&(this.dragging||this.intersectsPoint(t.mouse))&&(t.cursor="ew-resize")}},{key:"render",value:function(t){var e=this.centerX-this.visualWidth/2;e+this.width<0||e>t.canvas.width||(t.fillStyle=this.color,t.fillRect(e,0,this.visualWidth,this.height))}},{key:"interact",value:function(t,e){return!(0!==e||!this.draggable)&&(this.dragging=!0,!0)}},{key:"interactEnd",value:function(t){this.dragging=!1}}]),n}(U),Q=function(t){Object(x["a"])(n,t);var e=B(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return Object(a["a"])(n,[{key:"update",value:function(t){this.value=t.song.currentTick,this.draggable=!0,Object(C["a"])(Object(S["a"])(n.prototype),"update",this).call(this,t)}},{key:"dragged",value:function(t,e,n){var i=e/k;t.song.currentTick+=i,t.song.pause()}},{key:"render",value:function(t){Object(C["a"])(Object(S["a"])(n.prototype),"render",this).call(this,t),t.beginPath(),t.moveTo(this.centerX-8,0),t.lineTo(this.centerX+8,0),t.lineTo(this.centerX,8),t.fill()}}]),n}(V),T=function(t){Object(x["a"])(n,t);var e=B(n);function n(){var t;return Object(s["a"])(this,n),t=e.call(this),t.value=0,t.visualWidth=1,t.color="#999",t}return Object(a["a"])(n)}(V),M=function(t){Object(x["a"])(n,t);var e=B(n);function n(){var t;return Object(s["a"])(this,n),t=e.call(this),t.visualWidth=1,t.color="#999",t.draggable=!0,t}return Object(a["a"])(n,[{key:"update",value:function(t){this.dragging||(this.value=t.song.size),Object(C["a"])(Object(S["a"])(n.prototype),"update",this).call(this,t)}},{key:"dragged",value:function(t,e,n){this.value+=e/k}},{key:"interactEnd",value:function(t){this.value=Math.round(this.value),t.song.size=this.value,Object(C["a"])(Object(S["a"])(n.prototype),"interactEnd",this).call(this,t)}}]),n}(V),R=function(t){Object(x["a"])(n,t);var e=B(n);function n(){var t;return Object(s["a"])(this,n),t=e.call(this),t.reset(),t}return Object(a["a"])(n,[{key:"intersectsPoint",value:function(){return!0}},{key:"render",value:function(){}},{key:"reset",value:function(){this.button=0,this.moved=!1}},{key:"interact",value:function(t,e){this.button=e;var n=Math.floor(t.mouse.x/k)+t.editor.viewport.firstTick,i=Math.floor(t.mouse.y/k)-1;if(0===this.button){var o=t.editor.placeNote(i,n);E.playNote(o)}else if(1===e){var r=t.editor.getNote(i,n);r&&t.editor.pickNote(r)}else 2===e&&t.editor.deleteNote(i,n);return!0}}]),n}(U);function D(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=N(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function N(t,e){if(t){if("string"===typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var P,W,G={props:{editor:w,song:A},data:function(){return{canvas:null,ctx:null,textureCache:{},cursor:"",mouse:{x:0,y:0,right:!1,left:!1,middle:!1},boundingRects:null,objects:[],interaction:null}},mounted:function(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.objects.push(new R),this.objects.push(new M),this.objects.push(new T),this.objects.push(new Q),this.objects.push(new I)},methods:{handleMouse:function(t){if("mouseup"===t.type||"mousedown"===t.type){var e="mousedown"===t.type;0===t.button?this.mouse.left=e:1===t.button?this.mouse.middle=e:2===t.button&&(this.mouse.right=e),e?this.findInteraction(t.button):this.endInteraction()}else if("mousemove"===t.type){var n=this.mouse.x,i=this.mouse.y;if(this.mouse.x=t.clientX-this.boundingRects.left,this.mouse.y=t.clientY-this.boundingRects.top,this.interaction){var o=this.mouse.x-n,r=this.mouse.y-i;this.interaction.dragged(this,o,r)}}},endInteraction:function(){this.interaction&&(this.interaction.interactEnd(this),this.interaction=null)},findInteraction:function(t){var e=this.objects.length;while(e--){var n=this.objects[e];if(n.intersectsPoint(this.mouse)){var i=n.interact(this,t);if(i)return this.interaction=n,!0}}return!1},updateObjects:function(){var t,e=D(this.objects);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.update(this)}}catch(i){e.e(i)}finally{e.f()}},renderObjects:function(t){var e,n=D(this.objects);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.render(this.ctx,t)}}catch(o){n.e(o)}finally{n.f()}},drawNotes:function(t){for(var e=function(t,e){var n=document.createElement("canvas");n.width=k,n.height=k;var i=n.getContext("2d");i.drawImage(t.baseTexture,0,0),i.fillStyle="rgba(0, 0, 0, 0.35)",i.strokeStyle="black",i.lineWidth=4,i.rect(0,0,n.width,n.height),i.fill(),i.stroke(),i.fillStyle="white",i.font="12px sans-serif",i.textAlign="center",i.textBaseline="middle";var o=w.formatKey(e);return i.fillText(o,k/2,k/2),n},n=(this.editor.viewport.width,this.editor.viewport.firstTick),i=this.editor.viewport.lastTick,o=0;o<this.song.layers.length;o++){var r=this.song.layers[o];if(!(r.notes.length<n))for(var s=o*k,a=n;a<i;a++){var c=(a-n)*k,u=r.notes[a];if(u){var l=null===u.lastPlayed?1/0:t-u.lastPlayed;l<1e3&&(this.ctx.globalAlpha=1-(1e3-l)/2e3);var f="".concat(u.instrument.id,"-").concat(u.key);if(!(f in this.textureCache)){var d=e(u.instrument,u.key);this.textureCache[f]=d}this.ctx.drawImage(this.textureCache[f],c,s),l<1e3&&(this.ctx.globalAlpha=1)}}}},update:function(t){if(!this.isHidden()){var e=this.canvas.getBoundingClientRect();this.canvas.height=e.height,this.canvas.width=e.width,this.boundingRects=e,this.editor.viewport.width=this.canvas.width/k,this.editor.updateViewport(),this.cursor="",this.updateObjects(),this.ctx.save(),this.ctx.translate(0,k),this.drawNotes(t),this.ctx.restore(),this.renderObjects(t),this.canvas.style.cursor=this.cursor}},isHidden:function(){return!!(document.hidden||document.msHidden||document.webkitHidden||document.mozHidden)}}},L=G,z=(n("1857"),n("2877")),F=Object(z["a"])(L,m,y,!1,null,"16ee9940",null),_=F.exports,X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layer-list"},[e("time-box",{attrs:{song:t.song}}),t._l(t.song.layers,(function(t){return e("layer-meta",{key:t.id,attrs:{layer:t}})})),e("button",{staticClass:"row",on:{click:function(e){return t.song.addLayer()}}},[t._v("+ layer")])],2)},H=[],Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row layer"},[e("div",{staticClass:"child"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.layer.name,expression:"layer.name"}],attrs:{type:"text",placeholder:t.layer.placeholder,name:"name"},domProps:{value:t.layer.name},on:{input:function(e){e.target.composing||t.$set(t.layer,"name",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"no-spinners",attrs:{type:"number",name:"volume"},domProps:{value:t.volume},on:{input:function(e){e.target.composing||(t.volume=e.target.value)}}}),e("a",{staticClass:"delete-button",attrs:{title:"Delete layer"},on:{click:function(e){return t.layer["delete"]()}}},[t._v("×")])])])},J=[],q={props:{layer:v},computed:{volume:{get:function(){return 100*this.layer.volume},set:function(t){this.layer.volume=t/100}}}},Z=q,$=(n("8138"),Object(z["a"])(Z,Y,J,!1,null,"70e6c380",null)),tt=$.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row flex flex-row flex-center timebox"},[e("div",{staticClass:"times"},[e("div",{staticClass:"current"},[t._v(t._s(t.currentTime))]),e("div",{staticClass:"end"},[t._v(t._s(t.endTime))])]),e("div",{staticClass:"tempo-container",attrs:{"vanilla-friendly":t.isVanillaFriendlyTempo,title:"Tempo in ticks per second"},on:{click:function(e){return e.target!==e.currentTarget?null:t.focusTempo.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.song.tempo,expression:"song.tempo",modifiers:{number:!0}}],ref:"tempo",staticClass:"no-spinners",attrs:{type:"number",name:"tempo",step:"0.25"},domProps:{value:t.song.tempo},on:{input:function(e){e.target.composing||t.$set(t.song,"tempo",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("\n    t/s\n  ")])])},nt=[],it=(n("f576"),n("6762"),[2.5,5,10]),ot={props:{song:A},computed:{currentTime:function(){return this.formatTime(this.song.currentTime)},endTime:function(){return this.formatTime(this.song.endTime)},isVanillaFriendlyTempo:function(){return it.includes(this.song.tempo)}},methods:{formatTime:function(t){var e=Math.abs(t)/1e3,n=Math.floor(e/3600).toString().padStart(2,"0"),i=Math.floor(e/60%60).toString().padStart(2,"0"),o=Math.floor(e%60).toString().padStart(2,"0"),r=Math.floor(Math.abs(t)%1e3).toString().padStart(3,"0"),s="".concat(n,":").concat(i,":").concat(o,".").concat(r);return t<0?"-"+s:s},focusTempo:function(){this.$refs.tempo.focus()}}},rt=ot,st=(n("f151"),Object(z["a"])(rt,et,nt,!1,null,"f07f5182",null)),at=st.exports,ct={props:{song:A},components:{LayerMeta:tt,TimeBox:at}},ut=ct,lt=(n("5cff"),Object(z["a"])(ut,X,H,!1,null,"583a690e",null)),ft=lt.exports,dt=function(){var t=this,e=t._self._c;return t.visible?e("div",{staticClass:"overlay-container",on:{click:function(e){return e.target!==e.currentTarget?null:t.dismiss.apply(null,arguments)}}},[e("div",{staticClass:"overlay"},[t._t("default")],2)]):t._e()},ht=[],At={props:{visible:{type:Boolean,default:!0}},model:{prop:"visible",event:"visibilityChanged"},data:function(){return{dismissable:!1}},provide:function(){return{hide:this.hide,show:this.show}},mounted:function(){"dismissable"in this.$attrs&&(this.dismissable=!0)},methods:{hide:function(){this.$emit("visibilityChanged",!1)},show:function(){this.$emit("visibilityChanged",!0)},dismiss:function(){this.dismissable&&this.hide()}}},vt=At,gt=(n("e418"),Object(z["a"])(vt,dt,ht,!1,null,"54151350",null)),pt=gt.exports,mt=function(){var t=this;t._self._c;return t._m(0)},yt=[function(){var t=this,e=t._self._c;return e("div",[e("b",[t._v("Loading...")])])}],bt={},wt=Object(z["a"])(bt,mt,yt,!1,null,null,null),kt=wt.exports,Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-row"},[t._m(0),e("div",{staticClass:"actions section"},[e("div",{staticClass:"load-song button flex flex-row flex-center"},[e("font-awesome-icon",{attrs:{icon:"folder-open","fixed-width":"",size:"2x"}}),e("div",{staticClass:"button-body"},[t._v("Load a song")]),e("input",{staticClass:"file-input",attrs:{type:"file",accept:".nbs"},on:{change:t.inputFile}})],1),e("div",{staticClass:"new-song button flex flex-row flex-center",on:{click:t.newSong}},[e("font-awesome-icon",{attrs:{icon:"file","fixed-width":"",size:"2x"}}),e("div",{staticClass:"button-body"},[t._v("Create a new song")])],1),e("div",{staticClass:"new-song button flex flex-row flex-center",on:{click:t.hide}},[e("font-awesome-icon",{attrs:{icon:"times-circle","fixed-width":"",size:"2x"}}),e("div",{staticClass:"button-body"},[t._v("Dismiss")])],1)])])},xt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"about section"},[e("h1",[t._v("nbsplayer")]),e("p",[t._v("It's like Note Block Studio.")]),e("p",[t._v("Note sounds and textures are owned by Mojang. Not approved by or associated with Mojang.")])])}],Ot={inject:["hide"],methods:{inputFile:function(t){var e=this;if(0!==t.target.files.length){var n=t.target.files[0];E.loadFile(n).then((function(){return e.hide()}))}},newSong:function(){E.setSong(A.new()),this.hide()}}},St=Ot,Et=(n("af78"),Object(z["a"])(St,Ct,xt,!1,null,"f4849b4a",null)),Bt=Et.exports,jt=function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Settings")]),e("div",[e("label",[t._v("Key Offset "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.options.keyOffset,expression:"options.keyOffset",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.options.keyOffset},on:{input:function(e){e.target.composing||t.$set(t.options,"keyOffset",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),e("button",{on:{click:t.hide}},[t._v("Close")])])},Ut=[],It={inject:["hide"],props:{options:Object}},Vt=It,Qt=Object(z["a"])(Vt,jt,Ut,!1,null,null,null),Tt=Qt.exports,Mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"details"},[e("h2",{staticClass:"title"},[t._v(t._s(t.title))]),t.song.author?e("div",[t._v("Created by "),e("b",{staticClass:"author"},[t._v(t._s(t.song.author))])]):t._e(),t.song.originalAuthor?e("div",[t._v("Originally created by "),e("b",{staticClass:"original-author"},[t._v(t._s(t.song.originalAuthor))])]):t._e(),e("div",[t.song.description?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.song.description,expression:"song.description"}],staticClass:"description",attrs:{readonly:""},domProps:{value:t.song.description},on:{input:function(e){e.target.composing||t.$set(t.song,"description",e.target.value)}}}):t._e()]),e("div",[e("button",{on:{click:t.hide}},[t._v("Dismiss")])])])},Rt=[],Dt={inject:["hide"],props:{song:A},computed:{title:function(){return this.song.name||"Unnamed Song"}}},Nt=Dt,Kt=(n("1539"),Object(z["a"])(Nt,Mt,Rt,!1,null,"fb871bbe",null)),Pt=Kt.exports,Wt={name:"vue-title",props:{title:String},created:function(){document.title=this.title},watch:{title:function(){document.title=this.title}},render:function(){}},Gt=Wt,Lt=Object(z["a"])(Gt,P,W,!1,null,null,null),zt=Lt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"toolbar"},[e("a",{staticClass:"button",attrs:{title:"New"},on:{click:t.newSong}},[e("img",{staticClass:"button-image",attrs:{src:n("a11e"),alt:"New"}})]),e("a",{staticClass:"button",attrs:{title:"Save"},on:{click:t.save}},[e("img",{staticClass:"button-image",attrs:{src:n("773d"),alt:"Save"}})]),e("a",{staticClass:"open button",attrs:{title:"Open"}},[e("img",{staticClass:"button-image",attrs:{src:n("d1dd"),alt:"Open"}}),e("input",{attrs:{type:"file",accept:".nbs"},on:{change:t.loadFile}})]),e("div",{staticClass:"separator"}),e("a",{staticClass:"button",attrs:{value:!t.paused,title:"Play"},on:{click:t.play}},[e("img",{staticClass:"button-image",attrs:{src:n("8af6"),alt:"Play"}})]),e("a",{staticClass:"button",attrs:{value:t.paused,title:"Pause"},on:{click:t.pause}},[e("img",{staticClass:"button-image",attrs:{src:n("bc8f"),alt:"Pause"}})]),e("a",{staticClass:"button",attrs:{value:t.stopped,title:"Stop"},on:{click:t.stop}},[e("img",{staticClass:"button-image",attrs:{src:n("6ea7"),alt:"Stop"}})]),e("div",{staticClass:"separator"}),e("a",{staticClass:"button",attrs:{value:t.state.options.loop,title:"Loop"},on:{click:t.toggleLoop}},[e("img",{staticClass:"button-image",attrs:{src:n("9cf3"),alt:"Loop"}})]),e("a",{staticClass:"button",attrs:{title:"Info"},on:{click:t.openInfo}},[e("img",{staticClass:"button-image",attrs:{src:n("e78b"),alt:"Info"}})]),e("a",{staticClass:"button",attrs:{title:"Settings"},on:{click:t.openSettings}},[e("img",{staticClass:"button-image",attrs:{src:n("226a"),alt:"Settings"}})]),e("a",{staticClass:"volume button",attrs:{title:"Volume"}},[e("img",{staticClass:"button-image",attrs:{src:n("96be"),alt:"Volume"}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.options.volume,expression:"state.options.volume",modifiers:{number:!0}}],attrs:{type:"range",name:"volume",min:"0",max:"1",step:"0.01"},domProps:{value:t.state.options.volume},on:{__r:function(e){t.$set(t.state.options,"volume",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"volume-amount"},[t._v(t._s(t.formattedVolume)+"%")])]),e("div",{staticClass:"separator"}),t._l(t.state.song.instruments,(function(n){return e("instrument-button",{key:n.id,attrs:{instrument:n,editor:t.state.editor}})}))],2)},_t=[],Xt=function(){var t=this,e=t._self._c;return e("a",{staticClass:"button",attrs:{value:t.active,title:t.title},on:{click:t.activate}},[e("div",{staticClass:"instrument-body"},[t._v(t._s(t.text))])])},Ht=[],Yt=(n("28a5"),{props:{instrument:p,editor:w},computed:{text:function(){var t=this.instrument.name.split(" ");return 1===t.length?this.instrument.name.substr(0,2):t.slice(0,2).map((function(t){return t[0]})).join("")},active:function(){return this.editor.currentInstrument===this.instrument},title:function(){return"Set Instrument to "+this.instrument.name}},methods:{activate:function(){this.editor.currentInstrument=this.instrument,E.playNote(this.editor.currentKey,this.instrument)}}}),Jt=Yt,qt=(n("046b"),Object(z["a"])(Jt,Xt,Ht,!1,null,"5a43b30b",null)),Zt=qt.exports,$t={data:function(){return{state:E}},components:{InstrumentButton:Zt},computed:{formattedVolume:function(){return(100*this.state.options.volume).toFixed(0)},paused:function(){return this.state.song.paused},stopped:function(){return this.paused&&0===this.state.song.currentTime}},methods:{pause:function(){this.state.song.pause()},play:function(){this.state.song.play()},stop:function(){this.state.song.pause(),this.state.song.currentTick=0},openSettings:function(){this.state.showSettings=!0},openInfo:function(){this.state.showSongDetails=!0},toggleLoop:function(){this.state.options.loop=!this.state.options.loop},loadFile:function(t){this.pause();var e=t.target.files[0];E.loadFile(e)},newSong:function(){E.setSong(A.new())},save:function(){var t=A.toArrayBuffer(this.state.song),e=new Blob([t],{type:"application/octet-stream"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=(this.state.song.name||"song")+".nbs",document.body.appendChild(i),i.click(),document.body.removeChild(i),E.editor.modified=!1}}},te=$t,ee=(n("31df"),Object(z["a"])(te,Ft,_t,!1,null,"372f748e",null)),ne=ee.exports,ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"keyboard flex flex-row"},[e("octave",{attrs:{editor:t.editor,start:21}}),e("octave",{attrs:{editor:t.editor,start:33}}),e("octave",{attrs:{editor:t.editor,start:45}}),e("octave",{attrs:{editor:t.editor,start:57}})],1)},oe=[],re=function(){var t=this,e=t._self._c;return e("div",{staticClass:"key",class:{sharp:t.sharp,vanilla:t.vanillaFriendly,selected:t.selected},on:{click:t.select}},[e("div",{staticClass:"text"},[t._v(t._s(t.text))])])},se=[],ae=(n("c5f6"),{props:{note:Number,sharp:Boolean},computed:{text:function(){return w.formatKey(this.note)},vanillaFriendly:function(){return this.note>=33&&this.note<=59},editor:function(){return this.$parent.editor},selected:function(){return this.editor.currentKey===this.note}},methods:{select:function(){this.editor.currentKey=this.note,E.playNote(this.note,this.editor.currentInstrument)}}}),ce=ae,ue=(n("4cf1"),Object(z["a"])(ce,re,se,!1,null,"e828db60",null)),le=ue.exports,fe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"octave"},[e("div",{staticClass:"keyboard-key"},[e("key",{attrs:{note:t.start+1,sharp:!1}}),e("key",{attrs:{note:t.start+2,sharp:!0}})],1),e("div",{staticClass:"keyboard-key"},[e("key",{attrs:{note:t.start+3,sharp:!1}}),e("key",{attrs:{note:t.start+4,sharp:!0}})],1),e("div",{staticClass:"keyboard-key"},[e("key",{attrs:{note:t.start+5,sharp:!1}})],1),e("div",{staticClass:"keyboard-key"},[e("key",{attrs:{note:t.start+6,sharp:!1}}),e("key",{attrs:{note:t.start+7,sharp:!0}})],1),e("div",{staticClass:"keyboard-key"},[e("key",{attrs:{note:t.start+8,sharp:!1}}),e("key",{attrs:{note:t.start+9,sharp:!0}})],1),e("div",{staticClass:"keyboard-key"},[e("key",{attrs:{note:t.start+10,sharp:!1}})],1),e("div",{staticClass:"keyboard-key"},[e("key",{attrs:{note:t.start+11,sharp:!1}}),e("key",{attrs:{note:t.start+12,sharp:!0}})],1)])},de=[],he={props:{start:Number,editor:w},components:{Key:le}},Ae=he,ve=(n("1b56"),Object(z["a"])(Ae,fe,de,!1,null,"087acd99",null)),ge=ve.exports,pe={props:{editor:w},components:{Key:le,Octave:ge}},me=pe,ye=(n("9ea2"),Object(z["a"])(me,ie,oe,!1,null,"61f4b92c",null)),be=ye.exports;function we(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ke(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function ke(t,e){if(t){if("string"===typeof t)return Ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(t,e):void 0}}function Ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var xe={components:{Editor:_,Overlay:pt,LoadingOverlay:kt,WelcomeOverlay:Bt,SettingsOverlay:Tt,SongDetailsOverlay:Pt,Toolbar:ne,LayerList:ft,Keyboard:be,VueTitle:zt},data:function(){return{state:E,previousTime:-1,lastPlayedTick:-1,interval:0}},mounted:function(){var t=this,e=p.builtin;Promise.all(e.map((function(t){return t.load()}))).then((function(){t.state.loading=!1,t.state.showWelcome=!0,t.interval=setInterval((function(){return t.tick()}))})),window.onbeforeunload=function(e){if(t.state.editor.modified)return"Your changes might not be saved"}},beforeDestroy:function(){clearInterval(this.interval)},computed:{tabTitle:function(){var t=E.song.name?"".concat(E.song.name," - nbsplayer"):"nbsplayer";return E.editor.modified?"*".concat(t):t}},methods:{advanceSong:function(t,e){var n=this.state.song;if(!n.paused)if(n.currentTick>=n.size)this.state.options.loop?n.currentTick=0:n.paused=!0;else{var i=e/n.timePerTick;if(n.currentTick+=i,n.tick!==this.lastPlayedTick){this.lastPlayedTick=n.tick;var o,r=we(n.layers);try{for(r.s();!(o=r.n()).done;){var s=o.value,a=s.notes[n.tick];a&&(E.playNote(a,s),a.lastPlayed=t)}}catch(c){r.e(c)}finally{r.f()}}}},tick:function(){var t=performance.now(),e=Math.min(t-this.previousTime,500);this.previousTime=t,this.advanceSong(t,e),this.$refs.canvas&&this.$refs.canvas.update(t)}}},Oe=xe,Se=(n("77e6"),Object(z["a"])(Oe,o,r,!1,null,null,null)),Ee=Se.exports,Be=n("ecee"),je=n("c074"),Ue=n("ad3d");Be["c"].add(je["a"]),Be["c"].add(je["b"]),Be["c"].add(je["c"]),i["a"].component("font-awesome-icon",Ue["a"]),i["a"].config.productionTip=!1,i["a"].config.performance=!1,new i["a"]({render:function(t){return t(Ee)}}).$mount("#app")},"5cff":function(t,e,n){"use strict";n("7080")},"5f58":function(t,e,n){},"5fe9":function(t,e,n){},6060:function(t,e,n){t.exports=n.p+"media/sdrum.b240f228.ogg"},6361:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAIVBMVEXRz8/BwcHy8vLs7Ozq6urm5ua5ubmxsLDc3Nzg4ODW1taRhrfXAAAAd0lEQVQoz5WQQRHAIAwEsXAWaiEWagELWMBCLcRCVZZAWkrCTOkOD2Yfd0lCAIIC1L8V2AQi2qOAiYgDyYt8NJj5LGQvWqik3hlOLLawZj4tL4EaqJHaYsTyLjp79qKPTnYX+tnC9mI8XqzPnibiswWNlMoTnLgAaFOoi0ggE8QAAAAASUVORK5CYII="},"645e":function(t,e,n){t.exports=n.p+"media/guitar.4ffa7575.ogg"},6823:function(t,e,n){t.exports=n.p+"media/cow_bell.5176e061.ogg"},"6b8b":function(t,e,n){t.exports=n.p+"media/bdrum.24ae40ae.ogg"},"6ea7":function(t,e,n){t.exports=n.p+"img/stop.a17f0e77.svg"},"6f5e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEUXxUQarjWC9q1B84QX3WIcmCkfzar4AAAAfklEQVQoz33PwQ3DMAwDQK3AFbgCV+AK2X+VUklT1I1cGvDjANpS1RrUE9hRDm3pmOCrjBFU6o4TzcC7lAK4g+6IMDyBGqR+0qgZQuIfYJOd2XM8gS5AFzYA51FXTNcvv5B58c4GMhbd22f8e7kVPoWzNEI+zH1e4gA4luABL/RWQvGQFkEZAAAAAElFTkSuQmCC"},7080:function(t,e,n){},"773d":function(t,e,n){t.exports=n.p+"img/save.8c39c38f.svg"},"77e6":function(t,e,n){"use strict";n("9c04")},"7d79":function(t,e,n){},8138:function(t,e,n){"use strict";n("5fe9")},8786:function(t,e,n){t.exports=n.p+"media/xylophone.609a67fc.ogg"},"8af6":function(t,e,n){t.exports=n.p+"img/play.51251b35.svg"},9398:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAeFBMVEXa3+Dg5OTX3N3Z3t/o6+v19/fb4OHe4uPw8vLz9PXT2drY3d7r7u7V2tvp7Ozv8fL+/v74+fnk5+jj5ufQ1tfW29zl6en6+vrm6er9/f3s7+/y9PT19vbh5OX5+vrR19jS2Nnc4eHU2tvh5eb3+Pj6+/vu8PH8/PyKR7C5AAABeUlEQVQ4y4WT65LEEBBGx0hcQiIYRASzyWbm/d9wde0DOH8UdUr1p9vj8UDo+cR4GMaREEoZ43yahJANIeb50RWWRam1oTXnxliL8TxTau3r5RxC3vcFrUOwdttiDGHfreU8hNSIcV05V6ovLAtCxwFSzsMQAiHGhAacr2spfUEp7wlZlnE8jmmqlVIpKXVubAgxTX3Buff75weurhUeDVaErD1PSjG+rr4Aj/T7exxDw3sptV5XxoyBc873vS8gBHFgw1gIpWBMKcRmTKn7bjG7AucpOUdpKYwRkjM0itLzHAZjnk/n+gKlxlyX1rVOkzGfDyH/7d+2lGDtC6XcN2+sawhQ6H1rba2USg2DEMvSF4Qg5NNAKOdxTAljGF2l3o3ragPTFXJGCAosJUbnaoXxl/K/QKXOsy+kxBgMaCmcS2ltrRAwBO+3LYQWsyvE+P0uCwwqRDsO+EK0se8p5YxxX5hnQkrZd4xzDiFG7xFiDNpOCHyqrvAHvJ9DJd4fFTUAAAAASUVORK5CYII="},9566:function(t,e,n){t.exports=n.p+"media/dbass.36e84bce.ogg"},9661:function(t,e,n){t.exports=n.p+"media/harp.7e892f71.ogg"},"96be":function(t,e,n){t.exports=n.p+"img/volume.464474a3.svg"},"96d7":function(t,e,n){t.exports=n.p+"media/iron_xylophone.9f0ae0bd.ogg"},"9c04":function(t,e,n){},"9cf3":function(t,e,n){t.exports=n.p+"img/loop.8f18c336.svg"},"9ea2":function(t,e,n){"use strict";n("b698")},a11e:function(t,e,n){t.exports=n.p+"img/new.a634cdff.svg"},a35c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEWUmaSao7Osrr2vudahp7GcoazLIinTAAAAoUlEQVQoz22Q0Q1FIQxCXYEVWMEVWIH9V3ngfV9WE5v0aFvoWuCmREGNaw3QIMGQw60HSEiKZtviBDb477tSpwk6jrl2qlP8AN/fNhUWMAGSMeqsfV4nOK5qLALafgJhZ6SAyOauuQHs+M6aWhftEzjWWIFsSr9AGsa9652dfoMo73bPBjKXE+goYg2m+Ei/QfLojvtu8Si9wO5H9XQHnuAHKelleWB83UAAAAAASUVORK5CYII="},a8d2:function(t,e,n){t.exports=n.p+"media/click.d8a7a84e.ogg"},af78:function(t,e,n){"use strict";n("7d79")},b698:function(t,e,n){},b6b8:function(t,e,n){t.exports=n.p+"media/banjo.fc0ae6b8.ogg"},bc8f:function(t,e,n){t.exports=n.p+"img/pause.0569865e.svg"},c303:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEVbRThCMSc1KSJJNyxqUkR5YVKqJu6EAAAAm0lEQVQoz23QQREFMQwCUCxgAQtYwEL8W/mkM/+UPe3mTdKSAoQEWKYUBAcezYCtjeiC4jBDdIT9vcC0EZ7YtKELghOz0JrEBbQvbCS7CcwL3jzcGpzKBzx5g9N4uvCael8xmS8I3oT6BumiuOB9ln7lbKoP0D/5y9DqwjtsYdewLqSbZZ+n2XbiwrSpS73sredC2rdHao8NL/wARMhIH9AfukcAAAAASUVORK5CYII="},c34a:function(t,e,n){t.exports=n.p+"media/bit.37c995c8.ogg"},c509:function(t,e,n){t.exports=n.p+"media/chime.ce409f32.ogg"},c83b:function(t,e,n){t.exports=n.p+"media/flute.2feb0297.ogg"},cc70:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEXn5Lvaz6Pj27DVxJbRuort68s4ewItAAAAlUlEQVQoz22R0Q3DMBBCvQIrsAIr3Aref5UepOpHSRRZ5MU+CDkHIMTvIp4CAgSJo4M7OA2I0WpffoEGIFfstL0XvQDhPq70GbBBVno3k6DBWkrXjhPjBsjGhMqABrIfNZvNFaBBzvirJgHUYEVSucmRo/8DCQ+hfe1SIO1soEuPZoN0M/hV1MDi8nke4gVE5l8jsMAH5PVBFfMInTEAAAAASUVORK5CYII="},cdab:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAWlBMVEUpJCIxLCg1Lys0LionIiB5VUODV0KEUjx0UDmIXEZQMyGCVzlbOCiUX0RfPCybZktbNSQzLSqAUj5GKR6VWj5HKh2RWEA0LClHLSA/KRtKMCIoIyA1LCkwKykgBHbvAAABGElEQVQ4y42TUZKDIBBEFeMAIoKoQUxy/2suLUE3P2JXtSjVBbwZqaqq/opFNU0asx6PqhhgrG2JOKcocQjvRG1b13cCUnadUnDfaz0MxgyD1tYaI+WdwDg6N03zvCynp+n5hDn3vhxgTIi0ARbvOlgpa7XueyLGyoG6FmKe11XrdTUmBIywUiEIEQ9ZDAATWAkvbQZEfEu5n6EQ8J7zjJVxfzCLAWyRFrQ2oaLgfY+5oxeXAWACSalty3hKLQuQjzpcBhgjym3+33aY6E7Ae+dOtN+WO7fXoRA4MXOrk/HTHb24DDQN2r1txsAhGIN2AxWYTVMO4OKkyyKj8pMIY9vuZygEXi8f9X6PUXj6XeP4+WAmFqoU+AMBGDOVB7g7DgAAAABJRU5ErkJggg=="},d1dd:function(t,e,n){t.exports=n.p+"img/open.cc914ee5.svg"},dc2c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEV8pfSFrfiSuf6hw/+81P/I3P+pzQJfAAAAkUlEQVQoz22QgQ0EIQgEaWFboAVasIXrv5UfwP/kD2JEGZF1NTO5R7jLWMJsAvITIipCtoDKibA6n4CObLI6AXMBCFpN57ovIKMqrwdOUE/KULk0QUrxaG+LbeYFKMc8S5zr9gW6Xco+v+/4B5RXLz/OKWOAK9YUgQniu1MLbKActscdSJ22vzOB7u9wlfDEAB8bDzR3WtoT4wAAAABJRU5ErkJggg=="},e418:function(t,e,n){"use strict";n("5f58")},e78b:function(t,e,n){t.exports=n.p+"img/info.f906c4e5.svg"},e92b:function(t,e,n){t.exports=n.p+"media/didgeridoo.2d131d3e.ogg"},f151:function(t,e,n){"use strict";n("2d9c")},f48a:function(t,e,n){}});
//# sourceMappingURL=app.54505615.js.map